<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:t="sap.ui.table"
    xmlns:columnmenu="sap.m.table.columnmenu"
    xmlns:u="sap.ui.unified"
    xmlns:vm="sap.ui.fl.variants"
    xmlns:sap.ui.fl="sap.ui.fl"
    xmlns:sap.ui.dt="sap.ui.dt"
>
    <Panel>
        <VBox>
            <Title text="Chọn Loại đánh gía" />
            <ComboBox
                items="{donHang>/loaiDanhGia}"
                change="onSelect"
                placeholder="chọn loại đánh giá"
            >
                <core:Item
                    key="{donHang>CategoryID}"
                    text="{donHang>CategoryName}"
                />
            </ComboBox>
        </VBox>
        <t:Table
            id="tableDanhGia"
            enableColumnFreeze="true"
            selectionMode="None"
            rows="{donHang>/tieuChiDanhGiaNCC}"
            visible="false"
        >
            <t:extension>
                <OverflowToolbar>
                    <Title text="{i18n>tieuChiDanhGiaNcc}" />
                </OverflowToolbar>
            </t:extension>
            <t:columns>
                <t:Column
                    width="3rem"
                    hAlign="Center"
                >
                    <Title text="TT" />
                    <t:template>
                        <Label
                            text="{donHang>Matieuchi}"
                            design="{= ${donHang>Design} === 'B' ? 'Bold' :'Standard'}"
                        />
                    </t:template>
                </t:Column>
                <t:Column>
                    <Title text="{i18n>nhomTieuchi}" />
                    <t:template>
                        <Label
                            text="{donHang>Tieuchi}"
                            design="{= ${donHang>Design} === 'B' ? 'Bold' :'Standard'}"
                            wrapping="true"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    width="8rem"
                    hAlign="Center"
                >
                    <Title text="{i18n>tyTrongNTC}" />
                    <t:template>
                        <Label
                            text="{donHang>Tytrong}"
                            design="{= ${donHang>Design} === 'B' ? 'Bold' :'Standard'}"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    width="8rem"
                    hAlign="Center"
                >
                    <Title text="{i18n>chamDiem}" />
                    <t:template>
                        <Label
                            text="{donHang>DiemDg}"
                            design="{= ${donHang>Design} === 'B' ? 'Bold' :'Standard'}"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    headerSpan="5"
                    width="10rem"
                    hAlign="Center"
                >
                    <t:multiLabels>
                        <Title text="{i18n>thangDiemDanhGia}" />
                        <Title text="{i18n>ratKhongHaiLong}" />
                    </t:multiLabels>

                    <t:template>
                        <RadioButton
                            groupName="{donHang>Matieuchi}"
                            text="{donHang>Ratkhonghl}"
                            visible="{= ${donHang>Ratkhonghl} === '' ? false : true}"
                            select="danhGia"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    headerSpan="5"
                    width="9rem"
                    hAlign="Center"
                >
                    <t:multiLabels>
                        <Title text="{i18n>thangDiemDanhGia}" />
                        <Title text="{i18n>khongHaiLong}" />
                    </t:multiLabels>
                    <t:template>
                        <RadioButton
                            groupName="{donHang>Matieuchi}"
                            text="{donHang>khonghl}"
                            visible="{= ${donHang>Khonghl} === '' ? false : true}"
                            select="danhGia"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    headerSpan="5"
                    width="9rem"
                    hAlign="Center"
                >
                    <t:multiLabels>
                        <Title text="{i18n>thangDiemDanhGia}" />
                        <Title text="{i18n>chapNhanDuoc}" />
                    </t:multiLabels>
                    <t:template>
                        <RadioButton
                            groupName="{donHang>Matieuchi}"
                            text="{donHang>Chapnhanduoc}"
                            visible="{= ${donHang>Chapnhanduoc} === '' ? false : true}"
                            select="danhGia"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    headerSpan="5"
                    width="6rem"
                    hAlign="Center"
                >
                    <t:multiLabels>
                        <Title text="{i18n>thangDiemDanhGia}" />
                        <Title text="{i18n>haiLong}" />
                    </t:multiLabels>
                    <t:template>
                        <RadioButton
                            groupName="{donHang>Matieuchi}"
                            text="{donHang>Hailong}"
                            visible="{= ${donHang>Hailong} === '' ? false : true}"
                            select="danhGia"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    headerSpan="5"
                    width="6rem"
                    hAlign="Center"
                >
                    <t:multiLabels>
                        <Title text="{i18n>thangDiemDanhGia}" />
                        <Title text="{i18n>haiLong}" />
                    </t:multiLabels>
                    <t:template>
                        <RadioButton
                            groupName="{donHang>Matieuchi}"
                            text="{donHang>Hailong}"
                            visible="{= ${donHang>Hailong} === '' ? false : true}"
                            select="danhGia"
                        />
                    </t:template>
                </t:Column>
                <t:Column
                    headerSpan="5"
                    width="8rem"
                    hAlign="Center"
                >
                    <t:multiLabels>
                        <Title text="{i18n>thangDiemDanhGia}" />
                        <Title text="{i18n>ratHaiLong}" />
                    </t:multiLabels>
                    <t:template>
                        <RadioButton
                            groupName="{donHang>Matieuchi}"
                            text="{donHang>Rathailong}"
                            visible="{= ${donHang>Rathailong} === '' ? false : true}"
                            select="danhGia"
                        />
                    </t:template>
                </t:Column>
            </t:columns>
        </t:Table>
        
        <HBox
            justifyContent="End"
            class="sapUiTinyMarginEnd"
        >
            <Button
                text="Lưu"
                type="Ghost"
                press="onSaveDanhGia"
            />
        </HBox>
    </Panel>
</core:FragmentDefinition>
