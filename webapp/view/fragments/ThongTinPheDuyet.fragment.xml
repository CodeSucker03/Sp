<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:t="sap.ui.table"
    xmlns:columnmenu="sap.m.table.columnmenu"
    xmlns:u="sap.m.upload"
    xmlns:vm="sap.ui.fl.variants"
    xmlns:sap.ui.fl="sap.ui.fl"
    xmlns:sap.ui.dt="sap.ui.dt"
    xmlns:uxap="sap.uxap"
    xmlns:layout="sap.ui.layout"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:c="sap.suite.ui.commons"
    xmlns:unified="sap.ui.unified"
>
    <Panel>
        <t:Table
            rows="{detailNCC>/trangThaiPheDuyet}"
            selectionMode="None"
            visibleRowCount="3"
            id="tableThongTinPheDuyet"
        >
            <t:extension>
                <OverflowToolbar>
                    <Title text="{i18n>trangThaiPheDuyetTaiKhoan}" />
                </OverflowToolbar>
            </t:extension>
            <t:columns>
                <t:Column>
                    <Label text="{i18n>level}" />
                    <t:template>
                        <Text
                            text="{= ${detailNCC>Level} === '04' ? 'Đơn vị đầu mối':${detailNCC>Text}}"
                        />
                    </t:template>
                </t:Column>
                <t:Column>
                    <Label text="{i18n>Status}" />
                    <t:template>
                        <Text text="{detailNCC>Status}" />
                    </t:template>
                </t:Column>
                <t:Column>
                    <Label text="{i18n>action}" />
                    <t:template>
                        <HBox>
                            <Button
                                text="{parts:['detailNCC>Level'], formatter:'.setTextButton'}"
                                type="{parts:['detailNCC>Level'], formatter:'.setTypeButtonPheDuyet'}"
                                press="onSubmitStatus"
                                enabled="{detailNCC>Action}"
                                class="sapUiSmallMarginEnd"
                                app:buttonData="approve{detailNCC>Level}"
                            />
                            <Button
                                text="{= ${detailNCC>Level} === '02' ? 'Không đồng ý': 'Từ chối'}"
                                type="Reject"
                                press="onSubmitStatus"
                                enabled="{detailNCC>Action}"
                                class="sapUiSmallMarginEnd"
                                app:buttonData="reject{detailNCC>Level}"
                            />
                        </HBox>
                    </t:template>
                </t:Column>
            </t:columns>
        </t:Table>
    </Panel>
</core:FragmentDefinition>
